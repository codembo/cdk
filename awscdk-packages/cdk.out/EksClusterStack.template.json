{
 "Description": "Resources used by https://github.com/aws/karpenter",
 "AWSTemplateFormatVersion": "2010-09-09",
 "Resources": {
  "MastersRole0257C11B": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::408577966270:root"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "RoleName": "mastersRole",
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/MastersRole/Resource"
   }
  },
  "ClusterSecurityGroup94AE9AAE": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "EKS Control Plane Security Group tagged by Karpenter",
    "GroupName": "EKS Cluster Security Group",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "SecurityGroupIngress": [
     {
      "CidrIp": "10.64.0.0/20",
      "Description": "Allow all traffic from VPC CIDR",
      "IpProtocol": "-1"
     }
    ],
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     },
     {
      "Key": "karpenter.sh/discovery",
      "Value": "qa-core-services"
     }
    ],
    "VpcId": {
     "Fn::ImportValue": "NetworkStack:ExportsOutputRefVpc8378EB38272D6E3A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/ClusterSecurityGroup/Resource"
   }
  },
  "KubectlV30Layer8E58A06C": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": "cdk-hnb659fds-assets-408577966270-us-east-1",
     "S3Key": "bfbdea4d45250c8162c204fe0687cb775e24d61c895ad89e4ca6e9a7fc90b0f0.zip"
    },
    "Description": "/opt/kubectl/kubectl 1.30; /opt/helm/helm 3.15",
    "LicenseInfo": "Apache-2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/KubectlV30Layer/Resource",
    "aws:asset:path": "asset.bfbdea4d45250c8162c204fe0687cb775e24d61c895ad89e4ca6e9a7fc90b0f0.zip",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "EksCoreServicesKubectlHandlerRole1401312D": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
       ]
      ]
     },
     {
      "Fn::If": [
       "EksCoreServicesHasEcrPublic15D28337",
       {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":iam::aws:policy/AmazonElasticContainerRegistryPublicReadOnly"
         ]
        ]
       },
       {
        "Ref": "AWS::NoValue"
       }
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/KubectlHandlerRole/Resource"
   }
  },
  "EksCoreServicesKubectlHandlerRoleDefaultPolicyB208886F": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "eks:DescribeCluster",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EksCoreServicesE738D4E5",
         "Arn"
        ]
       }
      },
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EksCoreServicesCreationRole6D06F6D1",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EksCoreServicesKubectlHandlerRoleDefaultPolicyB208886F",
    "Roles": [
     {
      "Ref": "EksCoreServicesKubectlHandlerRole1401312D"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/KubectlHandlerRole/DefaultPolicy/Resource"
   }
  },
  "EksCoreServicesRole6A5A9E6D": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "eks.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonEKSClusterPolicy"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/Role/Resource"
   }
  },
  "EksCoreServicesCreationRole6D06F6D1": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "AWS": [
         {
          "Fn::GetAtt": [
           "EksCoreServicesKubectlHandlerRole1401312D",
           "Arn"
          ]
         },
         {
          "Fn::GetAtt": [
           "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454",
           "Outputs.EksClusterStackawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole1DF839F0Arn"
          ]
         },
         {
          "Fn::GetAtt": [
           "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454",
           "Outputs.EksClusterStackawscdkawseksClusterResourceProviderOnEventHandlerServiceRoleDB2ABDA1Arn"
          ]
         }
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/Resource/CreationRole/Resource"
   }
  },
  "EksCoreServicesCreationRoleDefaultPolicy242F3ECB": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "iam:PassRole",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "EksCoreServicesRole6A5A9E6D",
          "Arn"
         ]
        },
        {
         "Fn::GetAtt": [
          "EksCoreServicesfargateprofilecustomPodExecutionRole71599061",
          "Arn"
         ]
        }
       ]
      },
      {
       "Action": [
        "eks:CreateCluster",
        "eks:CreateFargateProfile",
        "eks:DeleteCluster",
        "eks:DescribeCluster",
        "eks:DescribeUpdate",
        "eks:TagResource",
        "eks:UntagResource",
        "eks:UpdateClusterConfig",
        "eks:UpdateClusterVersion"
       ],
       "Effect": "Allow",
       "Resource": [
        "arn:aws:eks:us-east-1:408577966270:cluster/qa-core-services",
        "arn:aws:eks:us-east-1:408577966270:cluster/qa-core-services/*"
       ]
      },
      {
       "Action": [
        "eks:DeleteFargateProfile",
        "eks:DescribeFargateProfile"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:eks:us-east-1:408577966270:fargateprofile/qa-core-services/*"
      },
      {
       "Action": [
        "ec2:DescribeDhcpOptions",
        "ec2:DescribeInstances",
        "ec2:DescribeNetworkInterfaces",
        "ec2:DescribeRouteTables",
        "ec2:DescribeSecurityGroups",
        "ec2:DescribeSubnets",
        "ec2:DescribeVpcs",
        "iam:CreateServiceLinkedRole",
        "iam:GetRole",
        "iam:listAttachedRolePolicies"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EksCoreServicesCreationRoleDefaultPolicy242F3ECB",
    "Roles": [
     {
      "Ref": "EksCoreServicesCreationRole6D06F6D1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/Resource/CreationRole/DefaultPolicy/Resource"
   }
  },
  "EksCoreServicesE738D4E5": {
   "Type": "Custom::AWSCDK-EKS-Cluster",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454",
      "Outputs.EksClusterStackawscdkawseksClusterResourceProviderframeworkonEvent22A399A2Arn"
     ]
    },
    "Config": {
     "name": "qa-core-services",
     "version": "1.30",
     "roleArn": {
      "Fn::GetAtt": [
       "EksCoreServicesRole6A5A9E6D",
       "Arn"
      ]
     },
     "kubernetesNetworkConfig": {
      "ipFamily": "ipv4"
     },
     "resourcesVpcConfig": {
      "subnetIds": [
       {
        "Fn::ImportValue": "NetworkStack:ExportsOutputRefVpcPrivateSubnet1Subnet536B997AFD4CC940"
       },
       {
        "Fn::ImportValue": "NetworkStack:ExportsOutputRefVpcPrivateSubnet2Subnet3788AAA1380949A3"
       },
       {
        "Fn::ImportValue": "NetworkStack:ExportsOutputRefVpcPrivateSubnet3SubnetF258B56EC7CF32DD"
       }
      ],
      "securityGroupIds": [
       {
        "Fn::GetAtt": [
         "ClusterSecurityGroup94AE9AAE",
         "GroupId"
        ]
       }
      ],
      "endpointPublicAccess": true,
      "endpointPrivateAccess": true
     },
     "logging": {
      "clusterLogging": [
       {
        "enabled": true,
        "types": [
         "api",
         "authenticator",
         "scheduler"
        ]
       }
      ]
     },
     "accessConfig": {}
    },
    "AssumeRoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "AttributesRevision": 3
   },
   "DependsOn": [
    "EksCoreServicesCreationRoleDefaultPolicy242F3ECB",
    "EksCoreServicesCreationRole6D06F6D1"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/Resource/Resource/Default"
   }
  },
  "EksCoreServicesKubectlReadyBarrier3EBE915B": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "aws:cdk:eks:kubectl-ready"
   },
   "DependsOn": [
    "EksCoreServicesfargateprofilecustomPodExecutionRole71599061",
    "EksCoreServicesfargateprofilecustom54A1012D",
    "EksCoreServicesCreationRoleDefaultPolicy242F3ECB",
    "EksCoreServicesCreationRole6D06F6D1",
    "EksCoreServicesE738D4E5"
   ],
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/KubectlReadyBarrier"
   }
  },
  "EksCoreServicesAwsAuthmanifest60CA1847": {
   "Type": "Custom::AWSCDK-EKS-KubernetesResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B",
      "Outputs.EksClusterStackawscdkawseksKubectlProviderframeworkonEvent2FB72184Arn"
     ]
    },
    "Manifest": {
     "Fn::Join": [
      "",
      [
       "[{\"apiVersion\":\"v1\",\"kind\":\"ConfigMap\",\"metadata\":{\"name\":\"aws-auth\",\"namespace\":\"kube-system\",\"labels\":{\"aws.cdk.eks/prune-c86583764b8a17a55da8b8b17f4c2444d2cbb3e64f\":\"\"}},\"data\":{\"mapRoles\":\"[{\\\"rolearn\\\":\\\"",
       {
        "Fn::GetAtt": [
         "MastersRole0257C11B",
         "Arn"
        ]
       },
       "\\\",\\\"username\\\":\\\"",
       {
        "Fn::GetAtt": [
         "MastersRole0257C11B",
         "Arn"
        ]
       },
       "\\\",\\\"groups\\\":[\\\"system:masters\\\"]},{\\\"rolearn\\\":\\\"",
       {
        "Fn::GetAtt": [
         "EksCoreServicesfargateprofilecustomPodExecutionRole71599061",
         "Arn"
        ]
       },
       "\\\",\\\"username\\\":\\\"system:node:{{SessionName}}\\\",\\\"groups\\\":[\\\"system:bootstrappers\\\",\\\"system:nodes\\\",\\\"system:node-proxier\\\"]}]\",\"mapUsers\":\"[]\",\"mapAccounts\":\"[]\"}}]"
      ]
     ]
    },
    "ClusterName": {
     "Ref": "EksCoreServicesE738D4E5"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "PruneLabel": "aws.cdk.eks/prune-c86583764b8a17a55da8b8b17f4c2444d2cbb3e64f",
    "Overwrite": true
   },
   "DependsOn": [
    "EksCoreServicesKubectlReadyBarrier3EBE915B"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/AwsAuth/manifest/Resource/Default"
   }
  },
  "EksCoreServicesfargateprofilecustomPodExecutionRole71599061": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "eks-fargate-pods.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonEKSFargatePodExecutionRolePolicy"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/fargate-profile-custom/PodExecutionRole/Resource"
   }
  },
  "EksCoreServicesfargateprofilecustom54A1012D": {
   "Type": "Custom::AWSCDK-EKS-FargateProfile",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454",
      "Outputs.EksClusterStackawscdkawseksClusterResourceProviderframeworkonEvent22A399A2Arn"
     ]
    },
    "AssumeRoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "Config": {
     "clusterName": {
      "Ref": "EksCoreServicesE738D4E5"
     },
     "podExecutionRoleArn": {
      "Fn::GetAtt": [
       "EksCoreServicesfargateprofilecustomPodExecutionRole71599061",
       "Arn"
      ]
     },
     "selectors": [
      {
       "namespace": "karpenter"
      }
     ],
     "tags": {
      "CreatedBy": "DevOps - AWS CDK"
     }
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/fargate-profile-custom/Resource/Default"
   }
  },
  "EksCoreServiceschartKarpenter06BD4C7B": {
   "Type": "Custom::AWSCDK-EKS-HelmChart",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B",
      "Outputs.EksClusterStackawscdkawseksKubectlProviderframeworkonEvent2FB72184Arn"
     ]
    },
    "ClusterName": {
     "Ref": "EksCoreServicesE738D4E5"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "Release": "karpenter",
    "Chart": "karpenter",
    "Version": "0.37.0",
    "Values": "{\"settings\":{\"clusterName\":\"qa-core-services\",\"interruptionQueue\":\"qa-core-services\"},\"controller\":{\"resources\":{\"requests\":{\"cpu\":1,\"memory\":\"1Gi\"},\"limits\":{\"cpu\":1,\"memory\":\"1Gi\"}}},\"serviceAccount\":{\"create\":true,\"name\":\"karpenter\",\"annotations\":{\"eks.amazonaws.com/role-arn\":\"arn:aws:iam::408577966270:role/KarpenterControllerRole-qa-core-services\"}}}",
    "Namespace": "karpenter",
    "Repository": "oci://public.ecr.aws/karpenter/karpenter",
    "CreateNamespace": true
   },
   "DependsOn": [
    "EksCoreServicesKubectlReadyBarrier3EBE915B"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/chart-Karpenter/Resource/Default"
   }
  },
  "EksCoreServiceschartArgoCDAddOn9BC59CE6": {
   "Type": "Custom::AWSCDK-EKS-HelmChart",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B",
      "Outputs.EksClusterStackawscdkawseksKubectlProviderframeworkonEvent2FB72184Arn"
     ]
    },
    "ClusterName": {
     "Ref": "EksCoreServicesE738D4E5"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "Release": "argocd",
    "Chart": "argo-cd",
    "Version": "6.7.8",
    "Values": "{\"global\":{\"domain\":\"argocd.qa.ops.cropwise.com\",\"addPrometheusAnnotations\":true},\"configs\":{\"params\":{\"server.insecure\":true}},\"certificate\":{\"enabled\":true},\"server\":{\"ingress\":{\"enabled\":true,\"ingressClassName\":\"nginx\",\"annotations\":{\"nginx.ingress.kubernetes.io/force-ssl-redirect\":\"false\",\"nginx.ingress.kubernetes.io/backend-protocol\":\"HTTP\"}},\"ingressGrpc\":{\"enabled\":true,\"ingressClassName\":\"nginx\"},\"metrics\":{\"enabled\":true}},\"controller\":{\"replicas\":2,\"metrics\":{\"enabled\":true}},\"repoServer\":{\"metrics\":{\"enabled\":true}}}",
    "Namespace": "argocd",
    "Repository": "https://argoproj.github.io/argo-helm",
    "CreateNamespace": true
   },
   "DependsOn": [
    "EksCoreServicesKubectlReadyBarrier3EBE915B"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/chart-ArgoCDAddOn/Resource/Default"
   }
  },
  "EksCoreServicesmanifestArgoCdDevOps610AE816": {
   "Type": "Custom::AWSCDK-EKS-KubernetesResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B",
      "Outputs.EksClusterStackawscdkawseksKubectlProviderframeworkonEvent2FB72184Arn"
     ]
    },
    "Manifest": "[{\"apiVersion\":\"argoproj.io/v1alpha1\",\"kind\":\"Application\",\"metadata\":{\"name\":\"argocd-devops-qa-app\",\"namespace\":\"argocd\",\"labels\":{\"aws.cdk.eks/prune-c85f7f39b4a108c8e34e6b03ba037c8c4285b8508d\":\"\"}},\"spec\":{\"project\":\"default\",\"source\":{\"repoURL\":\"https://github.com/<your-company>/infra-k8s-devops-argocd-manifests.git\",\"targetRevision\":\"refs/tags/devops-qa/latest\",\"path\":\"argocd-apps/qa\",\"directory\":{\"recurse\":true}},\"destination\":{\"server\":\"https://kubernetes.default.svc\",\"namespace\":\"argocd\"},\"syncPolicy\":{\"syncOptions\":[\"CreateNamespace=true\"],\"automated\":{\"selfHeal\":true,\"prune\":true}}}}]",
    "ClusterName": {
     "Ref": "EksCoreServicesE738D4E5"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "PruneLabel": "aws.cdk.eks/prune-c85f7f39b4a108c8e34e6b03ba037c8c4285b8508d"
   },
   "DependsOn": [
    "EksCoreServicesKubectlReadyBarrier3EBE915B"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/manifest-ArgoCdDevOps/Resource/Default"
   }
  },
  "EksCoreServicesmanifestArgoCdGithubSecretFDDDF1D5": {
   "Type": "Custom::AWSCDK-EKS-KubernetesResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B",
      "Outputs.EksClusterStackawscdkawseksKubectlProviderframeworkonEvent2FB72184Arn"
     ]
    },
    "Manifest": "[{\"apiVersion\":\"v1\",\"kind\":\"Secret\",\"metadata\":{\"name\":\"argoproj-https-creds\",\"namespace\":\"argocd\",\"labels\":{\"aws.cdk.eks/prune-c8c2569974b8536f55d9724d35e734388a9a76e97a\":\"\",\"argocd.argoproj.io/secret-type\":\"repo-creds\"}},\"stringData\":{\"url\":\"https://github.com/<your-company>\",\"type\":\"git\",\"password\":\"\",\"username\":\"\"}}]",
    "ClusterName": {
     "Ref": "EksCoreServicesE738D4E5"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "PruneLabel": "aws.cdk.eks/prune-c8c2569974b8536f55d9724d35e734388a9a76e97a"
   },
   "DependsOn": [
    "EksCoreServicesKubectlReadyBarrier3EBE915B"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/manifest-ArgoCdGithubSecret/Resource/Default"
   }
  },
  "EksCoreServicesEbsCsiControllerConditionJson86E9AB04": {
   "Type": "Custom::AWSCDKCfnJson",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57",
      "Arn"
     ]
    },
    "Value": {
     "Fn::Join": [
      "",
      [
       "{\"",
       {
        "Fn::Select": [
         1,
         {
          "Fn::Split": [
           ":oidc-provider/",
           {
            "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
           }
          ]
         }
        ]
       },
       ":aud\":\"sts.amazonaws.com\",\"",
       {
        "Fn::Select": [
         1,
         {
          "Fn::Split": [
           ":oidc-provider/",
           {
            "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
           }
          ]
         }
        ]
       },
       ":sub\":\"system:serviceaccount:kube-system:eksclusterstackekscoreservicesebscsicontroller9e6f528a\"}"
      ]
     ]
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/EbsCsiController/ConditionJson/Resource/Default"
   }
  },
  "EksCoreServicesEbsCsiControllerRole64692631": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRoleWithWebIdentity",
       "Condition": {
        "StringEquals": {
         "Fn::GetAtt": [
          "EksCoreServicesEbsCsiControllerConditionJson86E9AB04",
          "Value"
         ]
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Federated": {
         "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
        }
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/EbsCsiController/Role/Resource"
   }
  },
  "EksCoreServicesEbsCsiControllermanifestEbsCsiControllerServiceAccountResource8A7ED87C": {
   "Type": "Custom::AWSCDK-EKS-KubernetesResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B",
      "Outputs.EksClusterStackawscdkawseksKubectlProviderframeworkonEvent2FB72184Arn"
     ]
    },
    "Manifest": {
     "Fn::Join": [
      "",
      [
       "[{\"apiVersion\":\"v1\",\"kind\":\"ServiceAccount\",\"metadata\":{\"name\":\"eksclusterstackekscoreservicesebscsicontroller9e6f528a\",\"namespace\":\"kube-system\",\"labels\":{\"aws.cdk.eks/prune-c86f529ae94a9fc241202a889407c5bf1cb2b165f1\":\"\",\"app.kubernetes.io/name\":\"eksclusterstackekscoreservicesebscsicontroller9e6f528a\"},\"annotations\":{\"eks.amazonaws.com/role-arn\":\"",
       {
        "Fn::GetAtt": [
         "EksCoreServicesEbsCsiControllerRole64692631",
         "Arn"
        ]
       },
       "\"}}}]"
      ]
     ]
    },
    "ClusterName": {
     "Ref": "EksCoreServicesE738D4E5"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "PruneLabel": "aws.cdk.eks/prune-c86f529ae94a9fc241202a889407c5bf1cb2b165f1"
   },
   "DependsOn": [
    "EksCoreServicesKubectlReadyBarrier3EBE915B"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/EbsCsiController/manifest-EbsCsiControllerServiceAccountResource/Resource/Default"
   }
  },
  "EksCoreServicesOpenIdConnectProvider7F6FE1B1": {
   "Type": "Custom::AWSCDKOpenIdConnectProvider",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomAWSCDKOpenIdConnectProviderCustomResourceProviderHandlerF2C543E0",
      "Arn"
     ]
    },
    "ClientIDList": [
     "sts.amazonaws.com"
    ],
    "Url": {
     "Fn::GetAtt": [
      "EksCoreServicesE738D4E5",
      "OpenIdConnectIssuerUrl"
     ]
    },
    "CodeHash": "977fc1649d2dbcce16e23f6332faef6fa0f48aa74a0afe35f4a3467754e20cd8"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/OpenIdConnectProvider/Resource/Default"
   }
  },
  "EksCoreServicesSugarcaneIntegratorAsyncSAConditionJson65CB8B85": {
   "Type": "Custom::AWSCDKCfnJson",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57",
      "Arn"
     ]
    },
    "Value": {
     "Fn::Join": [
      "",
      [
       "{\"",
       {
        "Fn::Select": [
         1,
         {
          "Fn::Split": [
           ":oidc-provider/",
           {
            "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
           }
          ]
         }
        ]
       },
       ":aud\":\"sts.amazonaws.com\",\"",
       {
        "Fn::Select": [
         1,
         {
          "Fn::Split": [
           ":oidc-provider/",
           {
            "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
           }
          ]
         }
        ]
       },
       ":sub\":\"system:serviceaccount:default:sugarcane-integrator\"}"
      ]
     ]
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/SugarcaneIntegratorAsyncSA/ConditionJson/Resource/Default"
   }
  },
  "EksCoreServicesSugarcaneIntegratorAsyncSARole6780DBD5": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRoleWithWebIdentity",
       "Condition": {
        "StringEquals": {
         "Fn::GetAtt": [
          "EksCoreServicesSugarcaneIntegratorAsyncSAConditionJson65CB8B85",
          "Value"
         ]
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Federated": {
         "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
        }
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/SugarcaneIntegratorAsyncSA/Role/Resource"
   }
  },
  "EksCoreServicesSugarcaneIntegratorAsyncSARoleDefaultPolicyBA433EBE": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:DeleteObject",
        "s3:GetObject",
        "s3:List*",
        "s3:PutObject",
        "s3:PutObjectAcl"
       ],
       "Effect": "Allow",
       "Resource": [
        "${CORE_SERVICES_S3_RESOURCE}",
        "${CORE_SERVICES_S3_RESOURCE}/*",
        "${CORE_SERVICES_S3_RESOURCE}/*/*"
       ],
       "Sid": "Statement1"
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": "${CORE_SERVICES_DYNAMODB_RESOURCE}",
       "Sid": "Statement2"
      },
      {
       "Action": "sqs:*",
       "Effect": "Allow",
       "Resource": "${CORE_SERVICES_SQS_RESOURCE}",
       "Sid": "Statement3"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EksCoreServicesSugarcaneIntegratorAsyncSARoleDefaultPolicyBA433EBE",
    "Roles": [
     {
      "Ref": "EksCoreServicesSugarcaneIntegratorAsyncSARole6780DBD5"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/SugarcaneIntegratorAsyncSA/Role/DefaultPolicy/Resource"
   }
  },
  "EksCoreServicesSugarcaneIntegratorAsyncSAmanifestSugarcaneIntegratorAsyncSAServiceAccountResource9A351F4B": {
   "Type": "Custom::AWSCDK-EKS-KubernetesResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B",
      "Outputs.EksClusterStackawscdkawseksKubectlProviderframeworkonEvent2FB72184Arn"
     ]
    },
    "Manifest": {
     "Fn::Join": [
      "",
      [
       "[{\"apiVersion\":\"v1\",\"kind\":\"ServiceAccount\",\"metadata\":{\"name\":\"sugarcane-integrator\",\"namespace\":\"default\",\"labels\":{\"aws.cdk.eks/prune-c8ad90a2092137c6432330d0183a4241bf238686aa\":\"\",\"app.kubernetes.io/name\":\"sugarcane-integrator\"},\"annotations\":{\"eks.amazonaws.com/role-arn\":\"",
       {
        "Fn::GetAtt": [
         "EksCoreServicesSugarcaneIntegratorAsyncSARole6780DBD5",
         "Arn"
        ]
       },
       "\"}}}]"
      ]
     ]
    },
    "ClusterName": {
     "Ref": "EksCoreServicesE738D4E5"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "PruneLabel": "aws.cdk.eks/prune-c8ad90a2092137c6432330d0183a4241bf238686aa"
   },
   "DependsOn": [
    "EksCoreServicesKubectlReadyBarrier3EBE915B"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/SugarcaneIntegratorAsyncSA/manifest-SugarcaneIntegratorAsyncSAServiceAccountResource/Resource/Default"
   }
  },
  "EksCoreServicesStrixSAConditionJson540E1F27": {
   "Type": "Custom::AWSCDKCfnJson",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57",
      "Arn"
     ]
    },
    "Value": {
     "Fn::Join": [
      "",
      [
       "{\"",
       {
        "Fn::Select": [
         1,
         {
          "Fn::Split": [
           ":oidc-provider/",
           {
            "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
           }
          ]
         }
        ]
       },
       ":aud\":\"sts.amazonaws.com\",\"",
       {
        "Fn::Select": [
         1,
         {
          "Fn::Split": [
           ":oidc-provider/",
           {
            "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
           }
          ]
         }
        ]
       },
       ":sub\":\"system:serviceaccount:default:strix\"}"
      ]
     ]
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/StrixSA/ConditionJson/Resource/Default"
   }
  },
  "EksCoreServicesStrixSARoleC13D8ACD": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRoleWithWebIdentity",
       "Condition": {
        "StringEquals": {
         "Fn::GetAtt": [
          "EksCoreServicesStrixSAConditionJson540E1F27",
          "Value"
         ]
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Federated": {
         "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
        }
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/StrixSA/Role/Resource"
   }
  },
  "EksCoreServicesStrixSARoleDefaultPolicy0627E38E": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "secretsmanager:DescribeSecret",
        "secretsmanager:GetSecretValue"
       ],
       "Effect": "Allow",
       "Resource": "${CORE_SERVICES_POLICY_ARN}",
       "Sid": "VisualEditor0"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EksCoreServicesStrixSARoleDefaultPolicy0627E38E",
    "Roles": [
     {
      "Ref": "EksCoreServicesStrixSARoleC13D8ACD"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/StrixSA/Role/DefaultPolicy/Resource"
   }
  },
  "EksCoreServicesStrixSAmanifestStrixSAServiceAccountResourceE3144E6A": {
   "Type": "Custom::AWSCDK-EKS-KubernetesResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B",
      "Outputs.EksClusterStackawscdkawseksKubectlProviderframeworkonEvent2FB72184Arn"
     ]
    },
    "Manifest": {
     "Fn::Join": [
      "",
      [
       "[{\"apiVersion\":\"v1\",\"kind\":\"ServiceAccount\",\"metadata\":{\"name\":\"strix\",\"namespace\":\"default\",\"labels\":{\"aws.cdk.eks/prune-c85a0a28773bfc3d8bc2b834e8a141e4d8c151cece\":\"\",\"app.kubernetes.io/name\":\"strix\"},\"annotations\":{\"eks.amazonaws.com/role-arn\":\"",
       {
        "Fn::GetAtt": [
         "EksCoreServicesStrixSARoleC13D8ACD",
         "Arn"
        ]
       },
       "\"}}}]"
      ]
     ]
    },
    "ClusterName": {
     "Ref": "EksCoreServicesE738D4E5"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "PruneLabel": "aws.cdk.eks/prune-c85a0a28773bfc3d8bc2b834e8a141e4d8c151cece"
   },
   "DependsOn": [
    "EksCoreServicesKubectlReadyBarrier3EBE915B"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/StrixSA/manifest-StrixSAServiceAccountResource/Resource/Default"
   }
  },
  "EksCoreServicesStrixReadOnlySAConditionJsonE3D2B2B3": {
   "Type": "Custom::AWSCDKCfnJson",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57",
      "Arn"
     ]
    },
    "Value": {
     "Fn::Join": [
      "",
      [
       "{\"",
       {
        "Fn::Select": [
         1,
         {
          "Fn::Split": [
           ":oidc-provider/",
           {
            "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
           }
          ]
         }
        ]
       },
       ":aud\":\"sts.amazonaws.com\",\"",
       {
        "Fn::Select": [
         1,
         {
          "Fn::Split": [
           ":oidc-provider/",
           {
            "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
           }
          ]
         }
        ]
       },
       ":sub\":\"system:serviceaccount:default:strix-read-only\"}"
      ]
     ]
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/StrixReadOnlySA/ConditionJson/Resource/Default"
   }
  },
  "EksCoreServicesStrixReadOnlySARole446DEC00": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRoleWithWebIdentity",
       "Condition": {
        "StringEquals": {
         "Fn::GetAtt": [
          "EksCoreServicesStrixReadOnlySAConditionJsonE3D2B2B3",
          "Value"
         ]
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Federated": {
         "Ref": "EksCoreServicesOpenIdConnectProvider7F6FE1B1"
        }
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/StrixReadOnlySA/Role/Resource"
   }
  },
  "EksCoreServicesStrixReadOnlySARoleDefaultPolicy8CA81658": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "secretsmanager:DescribeSecret",
        "secretsmanager:GetSecretValue"
       ],
       "Effect": "Allow",
       "Resource": "${CORE_SERVICES_POLICY_ARN}",
       "Sid": "VisualEditor0"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EksCoreServicesStrixReadOnlySARoleDefaultPolicy8CA81658",
    "Roles": [
     {
      "Ref": "EksCoreServicesStrixReadOnlySARole446DEC00"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/StrixReadOnlySA/Role/DefaultPolicy/Resource"
   }
  },
  "EksCoreServicesStrixReadOnlySAmanifestStrixReadOnlySAServiceAccountResourceE2473A97": {
   "Type": "Custom::AWSCDK-EKS-KubernetesResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B",
      "Outputs.EksClusterStackawscdkawseksKubectlProviderframeworkonEvent2FB72184Arn"
     ]
    },
    "Manifest": {
     "Fn::Join": [
      "",
      [
       "[{\"apiVersion\":\"v1\",\"kind\":\"ServiceAccount\",\"metadata\":{\"name\":\"strix-read-only\",\"namespace\":\"default\",\"labels\":{\"aws.cdk.eks/prune-c83b149c8357a4f1f1d0aaa2943a01a5deaf34e2ab\":\"\",\"app.kubernetes.io/name\":\"strix-read-only\"},\"annotations\":{\"eks.amazonaws.com/role-arn\":\"",
       {
        "Fn::GetAtt": [
         "EksCoreServicesStrixReadOnlySARole446DEC00",
         "Arn"
        ]
       },
       "\"}}}]"
      ]
     ]
    },
    "ClusterName": {
     "Ref": "EksCoreServicesE738D4E5"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesCreationRole6D06F6D1",
      "Arn"
     ]
    },
    "PruneLabel": "aws.cdk.eks/prune-c83b149c8357a4f1f1d0aaa2943a01a5deaf34e2ab"
   },
   "DependsOn": [
    "EksCoreServicesKubectlReadyBarrier3EBE915B"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EksCoreServices/StrixReadOnlySA/manifest-StrixReadOnlySAServiceAccountResource/Resource/Default"
   }
  },
  "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454": {
   "Type": "AWS::CloudFormation::Stack",
   "Properties": {
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ],
    "TemplateURL": {
     "Fn::Join": [
      "",
      [
       "https://s3.us-east-1.",
       {
        "Ref": "AWS::URLSuffix"
       },
       "/cdk-hnb659fds-assets-408577966270-us-east-1/b1588009ec805b40fd4ba575558dde18f3c7d0f598e0707a4207351a307cfea6.json"
      ]
     ]
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStackResource",
    "aws:asset:path": "EksClusterStackawscdkawseksClusterResourceProviderAE46C71E.nested.template.json",
    "aws:asset:property": "TemplateURL"
   }
  },
  "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B": {
   "Type": "AWS::CloudFormation::Stack",
   "Properties": {
    "Parameters": {
     "referencetoEksClusterStackKubectlV30Layer90A01E0DRef": {
      "Ref": "KubectlV30Layer8E58A06C"
     },
     "referencetoEksClusterStackEksCoreServicesKubectlHandlerRoleB6969A38Arn": {
      "Fn::GetAtt": [
       "EksCoreServicesKubectlHandlerRole1401312D",
       "Arn"
      ]
     },
     "referencetoEksClusterStackEksCoreServicesA2797BD4ClusterSecurityGroupId": {
      "Fn::GetAtt": [
       "EksCoreServicesE738D4E5",
       "ClusterSecurityGroupId"
      ]
     }
    },
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ],
    "TemplateURL": {
     "Fn::Join": [
      "",
      [
       "https://s3.us-east-1.",
       {
        "Ref": "AWS::URLSuffix"
       },
       "/cdk-hnb659fds-assets-408577966270-us-east-1/1262a02e1f2d326c24a30b6880b1e31179f288eda37793df1b8087c039ef214a.json"
      ]
     ]
    }
   },
   "DependsOn": [
    "EksCoreServicesKubectlHandlerRoleDefaultPolicyB208886F",
    "EksCoreServicesKubectlHandlerRole1401312D"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/@aws-cdk--aws-eks.KubectlProvider.NestedStack/@aws-cdk--aws-eks.KubectlProvider.NestedStackResource",
    "aws:asset:path": "EksClusterStackawscdkawseksKubectlProvider68DDEDDD.nested.template.json",
    "aws:asset:property": "TemplateURL"
   }
  },
  "KarpenterNodeRole": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Effect": "Allow",
       "Principal": {
        "Service": {
         "Fn::Sub": "ec2.${AWS::URLSuffix}"
        }
       },
       "Action": [
        "sts:AssumeRole"
       ]
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/AmazonEKS_CNI_Policy"
     },
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/AmazonEKSWorkerNodePolicy"
     },
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
     },
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/AmazonSSMManagedInstanceCore"
     }
    ],
    "Path": "/",
    "RoleName": {
     "Fn::Sub": "KarpenterNodeRole-qa-core-services"
    },
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   }
  },
  "KarpenterControllerRole": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Fn::Sub": [
      "{  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Federated\": \"arn:aws:iam::${AWS::AccountId}:oidc-provider/${OICPIssuer}\"\n      },\n      \"Action\": \"sts:AssumeRoleWithWebIdentity\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"${OICPIssuer}:sub\": \"system:serviceaccount:karpenter:karpenter\",\n          \"${OICPIssuer}:aud\": \"sts.amazonaws.com\"\n        }\n      }\n    }\n  ]\n}\n",
      {
       "OICPIssuer": {
        "Fn::GetAtt": [
         "EksCoreServicesE738D4E5",
         "OpenIdConnectIssuer"
        ]
       }
      }
     ]
    },
    "Path": "/",
    "RoleName": {
     "Fn::Sub": "KarpenterControllerRole-qa-core-services"
    },
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   }
  },
  "KarpenterInterruptionQueue": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "MessageRetentionPeriod": 300,
    "QueueName": {
     "Fn::Sub": "qa-core-services"
    },
    "SqsManagedSseEnabled": true,
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   }
  },
  "KarpenterControllerPolicy": {
   "Type": "AWS::IAM::ManagedPolicy",
   "Properties": {
    "ManagedPolicyName": {
     "Fn::Sub": "KarpenterControllerPolicy-qa-core-services"
    },
    "PolicyDocument": {
     "Fn::Sub": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowScopedEC2InstanceAccessActions\",\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}::image/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}::snapshot/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:security-group/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:subnet/*\"\n      ],\n      \"Action\": [\n        \"ec2:RunInstances\",\n        \"ec2:CreateFleet\"\n      ]\n    },\n    {\n      \"Sid\": \"AllowScopedEC2LaunchTemplateAccessActions\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:launch-template/*\",\n      \"Action\": [\n        \"ec2:RunInstances\",\n        \"ec2:CreateFleet\"\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:ResourceTag/kubernetes.io/cluster/qa-core-services\": \"owned\"\n        },\n        \"StringLike\": {\n          \"aws:ResourceTag/karpenter.sh/nodepool\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"AllowScopedEC2InstanceActionsWithTags\",\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:fleet/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:instance/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:volume/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:network-interface/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:launch-template/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:spot-instances-request/*\"\n      ],\n      \"Action\": [\n        \"ec2:RunInstances\",\n        \"ec2:CreateFleet\",\n        \"ec2:CreateLaunchTemplate\"\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestTag/kubernetes.io/cluster/qa-core-services\": \"owned\"\n        },\n        \"StringLike\": {\n          \"aws:RequestTag/karpenter.sh/nodepool\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"AllowScopedResourceCreationTagging\",\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:fleet/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:instance/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:volume/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:network-interface/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:launch-template/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:spot-instances-request/*\"\n      ],\n      \"Action\": \"ec2:CreateTags\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestTag/kubernetes.io/cluster/qa-core-services\": \"owned\",\n          \"ec2:CreateAction\": [\n            \"RunInstances\",\n            \"CreateFleet\",\n            \"CreateLaunchTemplate\"\n          ]\n        },\n        \"StringLike\": {\n          \"aws:RequestTag/karpenter.sh/nodepool\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"AllowScopedResourceTagging\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:instance/*\",\n      \"Action\": \"ec2:CreateTags\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:ResourceTag/kubernetes.io/cluster/qa-core-services\": \"owned\"\n        },\n        \"StringLike\": {\n          \"aws:ResourceTag/karpenter.sh/nodepool\": \"*\"\n        },\n        \"ForAllValues:StringEquals\": {\n          \"aws:TagKeys\": [\n            \"karpenter.sh/nodeclaim\",\n            \"Name\"\n          ]\n        }\n      }\n    },\n    {\n      \"Sid\": \"AllowScopedDeletion\",\n      \"Effect\": \"Allow\",\n      \"Resource\": [\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:instance/*\",\n        \"arn:${AWS::Partition}:ec2:${AWS::Region}:*:launch-template/*\"\n      ],\n      \"Action\": [\n        \"ec2:TerminateInstances\",\n        \"ec2:DeleteLaunchTemplate\"\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:ResourceTag/kubernetes.io/cluster/qa-core-services\": \"owned\"\n        },\n        \"StringLike\": {\n          \"aws:ResourceTag/karpenter.sh/nodepool\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"AllowRegionalReadActions\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\",\n      \"Action\": [\n        \"ec2:DescribeAvailabilityZones\",\n        \"ec2:DescribeImages\",\n        \"ec2:DescribeInstances\",\n        \"ec2:DescribeInstanceTypeOfferings\",\n        \"ec2:DescribeInstanceTypes\",\n        \"ec2:DescribeLaunchTemplates\",\n        \"ec2:DescribeSecurityGroups\",\n        \"ec2:DescribeSpotPriceHistory\",\n        \"ec2:DescribeSubnets\"\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestedRegion\": \"${AWS::Region}\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"AllowSSMReadActions\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:${AWS::Partition}:ssm:${AWS::Region}::parameter/aws/service/*\",\n      \"Action\": \"ssm:GetParameter\"\n    },\n    {\n      \"Sid\": \"AllowPricingReadActions\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\",\n      \"Action\": \"pricing:GetProducts\"\n    },\n    {\n      \"Sid\": \"AllowInterruptionQueueActions\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"${KarpenterInterruptionQueue.Arn}\",\n      \"Action\": [\n        \"sqs:DeleteMessage\",\n        \"sqs:GetQueueUrl\",\n        \"sqs:ReceiveMessage\"\n      ]\n    },\n    {\n      \"Sid\": \"AllowPassingInstanceRole\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:${AWS::Partition}:iam::${AWS::AccountId}:role/KarpenterNodeRole-qa-core-services\",\n      \"Action\": \"iam:PassRole\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"iam:PassedToService\": \"ec2.amazonaws.com\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"AllowScopedInstanceProfileCreationActions\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\",\n      \"Action\": [\n        \"iam:CreateInstanceProfile\"\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestTag/kubernetes.io/cluster/qa-core-services\": \"owned\",\n          \"aws:RequestTag/topology.kubernetes.io/region\": \"${AWS::Region}\"\n        },\n        \"StringLike\": {\n          \"aws:RequestTag/karpenter.k8s.aws/ec2nodeclass\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"AllowScopedInstanceProfileTagActions\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\",\n      \"Action\": [\n        \"iam:TagInstanceProfile\"\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:ResourceTag/kubernetes.io/cluster/qa-core-services\": \"owned\",\n          \"aws:ResourceTag/topology.kubernetes.io/region\": \"${AWS::Region}\",\n          \"aws:RequestTag/kubernetes.io/cluster/qa-core-services\": \"owned\",\n          \"aws:RequestTag/topology.kubernetes.io/region\": \"${AWS::Region}\"\n        },\n        \"StringLike\": {\n          \"aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass\": \"*\",\n          \"aws:RequestTag/karpenter.k8s.aws/ec2nodeclass\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"AllowScopedInstanceProfileActions\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\",\n      \"Action\": [\n        \"iam:AddRoleToInstanceProfile\",\n        \"iam:RemoveRoleFromInstanceProfile\",\n        \"iam:DeleteInstanceProfile\"\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:ResourceTag/kubernetes.io/cluster/qa-core-services\": \"owned\",\n          \"aws:ResourceTag/topology.kubernetes.io/region\": \"${AWS::Region}\"\n        },\n        \"StringLike\": {\n          \"aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"AllowInstanceProfileReadActions\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\",\n      \"Action\": \"iam:GetInstanceProfile\"\n    },\n    {\n      \"Sid\": \"AllowAPIServerEndpointDiscovery\",\n      \"Effect\": \"Allow\",\n      \"Resource\": \"arn:${AWS::Partition}:eks:${AWS::Region}:${AWS::AccountId}:cluster/qa-core-services\",\n      \"Action\": \"eks:DescribeCluster\"\n    }\n  ]\n}\n"
    },
    "Roles": [
     {
      "Ref": "KarpenterControllerRole"
     }
    ]
   }
  },
  "KarpenterInterruptionQueuePolicy": {
   "Type": "AWS::SQS::QueuePolicy",
   "Properties": {
    "PolicyDocument": {
     "Id": "EC2InterruptionPolicy",
     "Statement": [
      {
       "Effect": "Allow",
       "Principal": {
        "Service": [
         "events.amazonaws.com",
         "sqs.amazonaws.com"
        ]
       },
       "Action": "sqs:SendMessage",
       "Resource": {
        "Fn::GetAtt": "KarpenterInterruptionQueue.Arn"
       }
      }
     ]
    },
    "Queues": [
     {
      "Ref": "KarpenterInterruptionQueue"
     }
    ]
   }
  },
  "ScheduledChangeRule": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "EventPattern": {
     "source": [
      "aws.health"
     ],
     "detail-type": [
      "AWS Health Event"
     ]
    },
    "Targets": [
     {
      "Arn": {
       "Fn::GetAtt": "KarpenterInterruptionQueue.Arn"
      },
      "Id": "KarpenterInterruptionQueueTarget"
     }
    ]
   }
  },
  "SpotInterruptionRule": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "EventPattern": {
     "source": [
      "aws.ec2"
     ],
     "detail-type": [
      "EC2 Spot Instance Interruption Warning"
     ]
    },
    "Targets": [
     {
      "Arn": {
       "Fn::GetAtt": "KarpenterInterruptionQueue.Arn"
      },
      "Id": "KarpenterInterruptionQueueTarget"
     }
    ]
   }
  },
  "RebalanceRule": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "EventPattern": {
     "source": [
      "aws.ec2"
     ],
     "detail-type": [
      "EC2 Instance Rebalance Recommendation"
     ]
    },
    "Targets": [
     {
      "Arn": {
       "Fn::GetAtt": "KarpenterInterruptionQueue.Arn"
      },
      "Id": "KarpenterInterruptionQueueTarget"
     }
    ]
   }
  },
  "InstanceStateChangeRule": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "EventPattern": {
     "source": [
      "aws.ec2"
     ],
     "detail-type": [
      "EC2 Instance State-change Notification"
     ]
    },
    "Targets": [
     {
      "Arn": {
       "Fn::GetAtt": "KarpenterInterruptionQueue.Arn"
      },
      "Id": "KarpenterInterruptionQueueTarget"
     }
    ]
   }
  },
  "CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
     }
    ],
    "Policies": [
     {
      "PolicyName": "Inline",
      "PolicyDocument": {
       "Version": "2012-10-17",
       "Statement": [
        {
         "Effect": "Allow",
         "Resource": "*",
         "Action": [
          "iam:CreateOpenIDConnectProvider",
          "iam:DeleteOpenIDConnectProvider",
          "iam:UpdateOpenIDConnectProviderThumbprint",
          "iam:AddClientIDToOpenIDConnectProvider",
          "iam:RemoveClientIDFromOpenIDConnectProvider"
         ]
        }
       ]
      }
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Role"
   }
  },
  "CustomAWSCDKOpenIdConnectProviderCustomResourceProviderHandlerF2C543E0": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-408577966270-us-east-1",
     "S3Key": "977fc1649d2dbcce16e23f6332faef6fa0f48aa74a0afe35f4a3467754e20cd8.zip"
    },
    "Timeout": 900,
    "MemorySize": 128,
    "Handler": "__entrypoint__.handler",
    "Role": {
     "Fn::GetAtt": [
      "CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x"
   },
   "DependsOn": [
    "CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65"
   ],
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Handler",
    "aws:asset:path": "asset.977fc1649d2dbcce16e23f6332faef6fa0f48aa74a0afe35f4a3467754e20cd8",
    "aws:asset:property": "Code"
   }
  },
  "AWSCDKCfnUtilsProviderCustomResourceProviderRoleFE0EE867": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/AWSCDKCfnUtilsProviderCustomResourceProvider/Role"
   }
  },
  "AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-408577966270-us-east-1",
     "S3Key": "70dc346d78f37c98f818c01173252d7441864d42268efd4ee44769cbd6f31d24.zip"
    },
    "Timeout": 900,
    "MemorySize": 128,
    "Handler": "__entrypoint__.handler",
    "Role": {
     "Fn::GetAtt": [
      "AWSCDKCfnUtilsProviderCustomResourceProviderRoleFE0EE867",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x"
   },
   "DependsOn": [
    "AWSCDKCfnUtilsProviderCustomResourceProviderRoleFE0EE867"
   ],
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/AWSCDKCfnUtilsProviderCustomResourceProvider/Handler",
    "aws:asset:path": "asset.70dc346d78f37c98f818c01173252d7441864d42268efd4ee44769cbd6f31d24",
    "aws:asset:property": "Code"
   }
  },
  "EbsCsiDriverAddOn": {
   "Type": "AWS::EKS::Addon",
   "Properties": {
    "AddonName": "aws-ebs-csi-driver",
    "AddonVersion": "v1.32.0-eksbuild.1",
    "ClusterName": {
     "Ref": "EksCoreServicesE738D4E5"
    },
    "ResolveConflicts": "OVERWRITE",
    "ServiceAccountRoleArn": {
     "Fn::GetAtt": [
      "EksCoreServicesEbsCsiControllerRole64692631",
      "Arn"
     ]
    },
    "Tags": [
     {
      "Key": "CreatedBy",
      "Value": "DevOps - AWS CDK"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/EbsCsiDriverAddOn"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/11Ry27CMBD8Fu6OefXQY0OktpRWUJC4ImMv4Maxqb0GoSj/3nVC6eO0s5vJzs54xOvh3T0f9sQ5ZFKVmdFbXq9QyJLRaFNrUfF66QywYmfbunBGy0tqf9CbsGIPqhs0DOSIloCMXuPlybt4TKQ/g4aF8UaEABh4ngr1fBJlCTgRAZgR1VYJTr+9igv4NfignWVQBl4/Cr8XCIWJAcGz/BzyiAc2i1vwFhACnaN3EJBdmQvvdppOfwZTFQfhka3An7SEXEoXLbL5EexUFc5akEjsk1a0mMRzpZylWz9Jltr3CLFNogU3uyewZCMFFA00bAnBRS+BtcYozL22e1bQta66fUvsX5i0lcZkkZp5xGPEhF5CN+leRBoX1c75SiTmRltpooIkPO3gP5FvJynRhg34oPdwfed+l29mUrhZSclJNNlpPOCzDq/Hgzb4hi0ueHC2P+bDES34CFpnnjLTFfBlV78A84oDaEUCAAA="
   },
   "Metadata": {
    "aws:cdk:path": "EksClusterStack/CDKMetadata/Default"
   }
  }
 },
 "Conditions": {
  "EksCoreServicesHasEcrPublic15D28337": {
   "Fn::Equals": [
    {
     "Ref": "AWS::Partition"
    },
    "aws"
   ]
  }
 },
 "Outputs": {
  "EksCoreServicesConfigCommandDDCA06A4": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "aws eks update-kubeconfig --name ",
      {
       "Ref": "EksCoreServicesE738D4E5"
      },
      " --region us-east-1 --role-arn ",
      {
       "Fn::GetAtt": [
        "MastersRole0257C11B",
        "Arn"
       ]
      }
     ]
    ]
   }
  },
  "EksCoreServicesGetTokenCommandFB5CDCAC": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "aws eks get-token --cluster-name ",
      {
       "Ref": "EksCoreServicesE738D4E5"
      },
      " --region us-east-1 --role-arn ",
      {
       "Fn::GetAtt": [
        "MastersRole0257C11B",
        "Arn"
       ]
      }
     ]
    ]
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}